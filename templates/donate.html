{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'navbar.css' %}">
    {% comment %} <script language="JavaScript" type="text/javascript"  src="{% static 'location.js' %}"></script> {% endcomment %}
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
     <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <title>Donate Now</title>
       <style>
    .container{
        margin-left:20px !important;
        margin-right:0px !important;
    }
    .container .my2{
        font-weight: bold;
        margin-top: 15px;
    }
    </style>
</head>
<body id="content">
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="/" style="margin-left:10px"><b>Hanuman Temple Walandi</b></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/">Home</a>
          </li>
                    <li class="nav-item">
          <div class="btn-group">
  <button type="button" class="btn btn-danger">Donate</button>
  <button type="button" class="btn btn-danger dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="visually-hidden"></span>
  </button>
  <ul class="dropdown-menu">
    {% comment %} <li><a class="dropdown-item" href="#">Action</a></li> {% endcomment %}
    <li><a class="dropdown-item active" href="donate">Donate Now</a></li>
    {% comment %} <li><a class="dropdown-item" href="construction">Construction and Designs</a></li> {% endcomment %}
    {% comment %} <li><a class="dropdown-item" href="#">Location</a></li> {% endcomment %}
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="reciept">Get Donation Reciept</a></li>
  </ul>
</div>

            {% comment %} <a class="nav-link" href="donate">Donate Now</a> {% endcomment %}
          </li>
                    <li class="nav-item dropdown">
           <!-- Example split danger button -->
<div class="btn-group">
  <button type="button" class="btn btn-danger">About</button>
  <button type="button" class="btn btn-danger dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="visually-hidden"></span>
  </button>
  <ul class="dropdown-menu">
    {% comment %} <li><a class="dropdown-item" href="#">Action</a></li> {% endcomment %}
    <li><a class="dropdown-item" href="trust">Trust</a></li>
    <li><a class="dropdown-item" href="construction">Construction and Designs</a></li>
    <li><a class="dropdown-item" href="#">Location</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="temple">Main Temple</a></li>
  </ul>
</div>
          </li>
           <li class="nav-item">
            <a class="nav-link" href="contact">Contact Us</a>
          </li>
           <li class="nav-item">
            <a class="nav-link" href="feedback">Feedback</a>
          </li>
          <li class="nav-item">
            {% comment %} <a class="nav-link disabled">Disabled</a> {% endcomment %}
          </li>
        </ul>
        <form class="a-flex">
        {% comment %} <div class="btn-group">
  <button type="button" class="btn btn-btn">Language</button>
  <button type="button" class="btn btn-btn dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="visually-hidden"></span>
  </button>
  <ul class="dropdown-menu">
    {% comment %} <li><a class="dropdown-item" href="#">Action</a></li>
    <li><a class="dropdown-item" href="#">Marathi</a></li>
    <li><a class="dropdown-item" href="#">Kannada</a></li>
    <li><a class="dropdown-item" href="#">Telugu</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="#">Hindi</a></li>
    <li><a class="dropdown-item" href="#">English</a></li>
  </ul>
</div> {% endcomment %}
        <div id="google_translate_element">
          {% comment %} <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success" type="submit">Search</button> {% endcomment %}
          </div>
        </form>
      </div>
    </div>
  </nav>
{% comment %} // $PAYU_BASE_URL = "https://sandboxsecure.payu.in";		// For Sandbox Mode
$PAYU_BASE_URL = "https://secure.payu.in";			// For Production Mode {% endcomment %}

<div class="container my-5">
  <div class="alert alert-{{state}} alert-dismissible fade show my-2" style="display:{{display}}" role="alert">
  <strong>{{status}} {{amount}}</strong> 
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
    <div class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow-lg">
      <div class="col-lg-7 p-3 p-lg-5 pt-lg-3">
        <h1 class="display-4 fw-bold lh-1">Donate Us</h1>
        <p class="lead">Quickly design and customize responsive mobile-first sites with Bootstrap, the world’s most popular front-end open source toolkit, featuring Sass variables and mixins, responsive grid system, extensive prebuilt components, and powerful JavaScript plugins.</p>
        <div class="d-grid gap-2 d-md-flex justify-content-md-start mb-4 mb-lg-3">
          {% comment %} <button type="button" class="btn btn-primary btn-lg px-4 me-md-2 fw-bold">Primary</button>
          <button type="button" class="btn btn-outline-secondary btn-lg px-4">Default</button> {% endcomment %}
          <form class="row g-3  was-validated" method="post" action="payu_checkout">
          {% csrf_token %}
     <div class="col-md-4">
                <label for="validationCustom01" class="form-label">First name</label>
                <input type="text" class="form-control" name="firstname"  pattern="([^\s][A-z0-9À-ž\s]+)" id="validationCustom01"  required>
                <div class="valid-feedback">
                  Looks good!
                </div>
              </div>
              <div class="col-md-4">
                <label for="validationCustom02"  class="form-label">Last name</label>
                <input type="text" class="form-control" name="lastname" pattern="([^\s][A-z0-9À-ž\s]+)" id="validationCustom02" required>
                <div class="valid-feedback">
                  Looks good!
                </div>
              </div>
              <div class="col-md-4">
                <label for="validationCustom02"  class="form-label">Mobile Number</label>
                <input type="text" pattern="[6789][0-9]{9}" name="phone" class="form-control" id="validationCustom02" required>
                <div class="valid-feedback">
                  Looks good!
                </div>
              </div>
  <div class="col-md-4">
    <label for="validationServerUsername" class="form-label">Organization Name</label>
    <div class="input-group validation">
      <span class="input-group-text" id="inputGroupPrepend3">@</span>
      <input type="text" class="form-control is-invalid" name="organizationName" id="validationServerUsername" pattern="([^\s][A-z0-9À-ž\s]+)" aria-describedby="inputGroupPrepend3 validationServerUsernameFeedback">
     <div id="validationServerUsernameFeedback" class="invalid-feedback">
        Leave it blank, if you are donating personally.
      </div>
    </div>
  </div>
  <div class="col-md-8">
  <label for="validationServer03" class="form-label">Email</label>
    <input type="email" class="form-control is-invalid" name="email" id="validationServer03" aria-describedby="validationServer03Feedback" required>
    <label for="validationServer03" class="form-label">Address</label>
    <input type="text" class="form-control is-invalid" name="address" id="validationServer03" aria-describedby="validationServer03Feedback" required>
    {% comment %} <div id="validationServer03Feedback" class="invalid-feedback">
      Please provide a valid address.
    </div> {% endcomment %}
    
  </div>
   
  <div class="col-md-3">
    <label for="validationServer04" class="form-label">Country</label>
    <select class="form-select is-invalid" name="country" id="country" aria-describedby="validationServer04Feedback" required>
      <option selected disabled value="">Choose...</option>
      
    </select>
    {% comment %} <div id="validationServer04Feedback" class="invalid-feedback">
      Please select a valid country.
    </div> {% endcomment %}
  </div>
  <div class="col-md-3">
    <label for="validationServer04" class="form-label">State</label>
    <select class="form-select is-invalid" name="state" id="state" aria-describedby="validationServer04Feedback" required>
      <option selected disabled value="">Choose...</option>
      <input type="text" value="Donation to Trust" name="productinfo" hidden>
       <input type="text" value="VJx2Pk" name="key" hidden>
         <input type="text" value="google.com" name="surl" hidden>
          <input type="text"  name="txnid" id="txnid" hidden>
    </select>
    {% comment %} <div id="validationServer04Feedback" class="invalid-feedback">
      Please select a valid state.
    </div> {% endcomment %}
  </div>
   <div class="col-md-3">
    <label for="validationServer04" class="form-label">City</label>
    <select class="form-select is-invalid" name="city" id="city" aria-describedby="validationServer04Feedback" required>
      <option selected disabled value="">Choose...</option>
      
    </select>
    {% comment %} <div id="validationServer04Feedback" class="invalid-feedback">
      Please select a valid city.
    </div> {% endcomment %}
  </div>
   <div class="col-md-3">
    <label for="validationServer05" class="form-label">Zip</label>
    <input type="text" class="form-control is-invalid" name="zipcode" pattern="[0-9]{6}" id="validationServer05" aria-describedby="validationServer05Feedback" required>
    {% comment %} <div id="validationServer05Feedback" class="invalid-feedback">
      Please provide a valid zip.
    </div> {% endcomment %}
  </div>
    <div class="col-md-4">
    <label for="validationServerUsername" class="form-label">Amount</label>
    <div class="input-group validation">
      <span class="input-group-text" id="inputGroupPrepend3">₹</span>
      <input type="text" class="form-control is-invalid" name="amount" id="validationServerUsername" pattern="(0\.((0[1-9]{1})|([1-9]{1}([0-9]{1})?)))|(([1-9]+[0-9]*)(\.([0-9]{1,2}))?)" aria-describedby="inputGroupPrepend3 validationServerUsernameFeedback" required>
     {% comment %} <div id="validationServerUsernameFeedback" class="invalid-feedback">
        Leave it blank, if you are donating personally.
      </div> {% endcomment %}
    </div>
  </div>
  <div class="col-12">
    <div class="form-check">
      <input class="form-check-input is-invalid" type="checkbox" value="" id="invalidCheck3" aria-describedby="invalidCheck3Feedback" required>
      <label class="form-check-label" for="invalidCheck3">
        Agree to terms and conditions
      </label>
      {% comment %} <div id="invalidCheck3Feedback" class="invalid-feedback">
        You must agree before submitting.
      </div> {% endcomment %}
    </div>
  </div>
  <div class="col-12">
  <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="For cash mode this data will be sent to the trust and cash will be collected later.">
  <button type="submit" class="btn btn-warning active" formaction="paycash" id="liveToastBtn">By Cash</button>
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
  <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
      {% comment %} <img src="..." class="rounded me-2" alt="..."> {% endcomment %}
      <strong class="me-auto">Hanuman Temple Walandi</strong>
      <small>Now</small>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
 For cash mode this data will be sent to the trust and cash will be collected later.
    </div>
  </div>
</div>
</span>
    <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="In online mode you can select any method to pay money.">
      <button class="btn btn-warning "  id="liveToastBtn1" type="submit">Pay Online</button>
        <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
  <div id="liveToast1" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
      {% comment %} <img src="..." class="rounded me-2" alt="..."> {% endcomment %}
      <strong class="me-auto">Hanuman Temple Walandi</strong>
      <small>Now</small>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
In online mode you can select any method to pay money.
    </div>
  </div>
</div>
</span>

     
  </div>
</form>
        </div>
      </div>
      <div class="col-lg-4 offset-lg-1 p-0 overflow-hidden shadow-lg">
          <img class="rounded-lg-3" src="{% static 'img/image15.jpg' %}" alt="" width="720">
      </div>
    </div>
  </div>

  <div class="b-example-divider"></div>



<script>

var toastTrigger = document.getElementById('liveToastBtn')
var toastLiveExample = document.getElementById('liveToast')
if (toastTrigger) {
  toastTrigger.addEventListener('click', function () {
    var toast = new bootstrap.Toast(toastLiveExample)

    toast.show()
  })
}
var toastTrigger1 = document.getElementById('liveToastBtn1')
var toastLiveExample1 = document.getElementById('liveToast1')
if (toastTrigger1) {
  toastTrigger1.addEventListener('click', function () {
    var toast1 = new bootstrap.Toast(toastLiveExample1)

    toast1.show()
  })
}
</script>

<script>
let auth_token;
$(document).ready(function () {
  $.ajax({

    type: "get",
    url: "https://www.universal-tutorial.com/api/getaccesstoken",
    success: function (data) {
      auth_token = data.auth_token;
      getCountry(data.auth_token);
    },
    error: function (error) {
      console.log(error);
    },
    headers: {
      "Accept": "application/json",
      "api-token": "3H4soPbzTdy9fH61jpsQmhB3Sw5SZskYPVd3BOUWQXF23NEkS-rLtu0TLMcQ5b6VZms",
      "user-email": "mahajansangmeshwar024@gmail.com"
    }
  });
  $('#country').change(function () {
    getState();
  });
  $('#state').change(function () {
    getCity();
  });
});


function getCountry() {
  $.ajax({

    type: "get",
    url: "https://www.universal-tutorial.com/api/countries/",
    success: function (data) {
      data.forEach(element => {
        $('#country').append('<option value="' + element.country_name + '">' + element.country_name + '</option>');
      });
      getState(auth_token);
    },
    error: function (error) {
      console.log(error);
    },
    headers: {
      "Authorization": "Bearer " + auth_token,
      "Accept": "application/json"
    }
  });

}

function getState() {
  var country_name = $('#country').val();
  //var country_name = 'India';
  $.ajax({

    type: "get",
    url: "https://www.universal-tutorial.com/api/states/" + country_name,
    success: function (data) {
      //getCity(auth_token);
      $('#state').empty();
      data.forEach(element => {
        $('#state').append('<option value="' + element.state_name + '">' + element.state_name + '</option>');
      });
    },
    error: function (error) {
      console.log(error);
    },
    headers: {
      "Authorization": "Bearer " + auth_token,
      "Accept": "application/json"
    }
  });
}

function getCity() {
  var state_name = $('#state').val();
  //var state_name = 'Goa';
  $.ajax({

    type: "get",
    url: "https://www.universal-tutorial.com/api/cities/" + state_name,
    success: function (data) {
      //console.log('ajax');
      $('#city').empty();
      data.forEach(element => {
        $('#city').append('<option value="' + element.city_name + '">' + element.city_name + '</option>');
      });
    },
    error: function (error) {
      console.log(error);
    },
    headers: {
      "Authorization": "Bearer " + auth_token,
      "Accept": "application/json"
    }
  });
}

</script>







  <script>
    window.onload = () => {
      setInterval(googleTranslateElementInit(), 0);
    var minNumber = 100000; // The minimum number you want
    var maxNumber = 999999; // The maximum number you want
    var randomnumber = Math.floor(Math.random() * (maxNumber + 1) + minNumber); // Generates random number
    var txnid = document.getElementById("txnid");
    txnid.value = "#HMWT" + String(randomnumber);
    console.log(txnid.value);
    } 

    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'en',
        layout: google.translate.TranslateElement.InlineLayout.HORIZONTAL,
        includedLanguages: "en,mr,hi,te,kn"
      }, 'google_translate_element');
    }
  </script>
</body>
</html>
